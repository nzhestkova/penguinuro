<div class="theme-picker"
	 [class._active]="_listVisible">
	<div class="theme-picker__button"
		 (click)="_onThemePickerClick()">
		<ng-container *ngTemplateOutlet="_listVisible ? cancelIconTemplate : iconTemplate; context: {key: value?.key}"></ng-container>
	</div>
	<div class="theme-picker__list"
		 [class._hidden]="!_listVisible">
		<ng-container *ngFor="let control of items">
			<div class="theme-picker__list-item"
				 (click)="_onPickTheme(control)"
			>
				<ng-container *ngTemplateOutlet="iconTemplate; context: {key: control.key}"></ng-container>
			</div>
		</ng-container>
	</div>
</div>

<ng-template #iconTemplate
			 let-key="key">
	<ng-container [ngSwitch]="key">
		<ng-container *ngSwitchCase="'light-active'">
			<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M15.2223 4.96205C15.6225 4.46692 16.3774 4.46691 16.7776 4.96205L18.3721 6.93449C18.6208 7.24213 19.0274 7.37426 19.4094 7.27154L21.8587 6.61299C22.4736 6.44768 23.0843 6.89139 23.117 7.52722L23.2476 10.0602C23.268 10.4552 23.5193 10.8011 23.8887 10.9426L26.2573 11.8495C26.8519 12.0771 27.0852 12.795 26.738 13.3287L25.3548 15.4546C25.139 15.7862 25.139 16.2138 25.3548 16.5454L26.738 18.6713C27.0852 19.2049 26.8519 19.9229 26.2573 20.1505L23.8887 21.0574C23.5193 21.1989 23.268 21.5448 23.2476 21.9398L23.117 24.4728C23.0843 25.1086 22.4736 25.5523 21.8587 25.387L19.4094 24.7284C19.0274 24.6257 18.6208 24.7579 18.3721 25.0655L16.7776 27.0379C16.3774 27.5331 15.6225 27.5331 15.2223 27.0379L13.6278 25.0655C13.3791 24.7579 12.9725 24.6257 12.5905 24.7284L10.1412 25.387C9.52633 25.5523 8.91562 25.1086 8.88284 24.4728L8.75229 21.9398C8.73192 21.5448 8.4806 21.1989 8.11118 21.0574L5.74256 20.1505C5.14798 19.9229 4.9147 19.2049 5.26192 18.6713L6.64512 16.5454C6.86085 16.2138 6.86085 15.7862 6.64512 15.4546L5.26192 13.3287C4.9147 12.795 5.14798 12.0771 5.74256 11.8495L8.11117 10.9426C8.4806 10.8011 8.73192 10.4552 8.75229 10.0602L8.88284 7.52722C8.91562 6.89139 9.52633 6.44768 10.1412 6.61299L12.5905 7.27154C12.9725 7.37426 13.3791 7.24213 13.6278 6.93449L15.2223 4.96205Z" fill="#E4D22B"/>
				<path d="M21.9999 16C21.9999 19.3137 19.3137 22 15.9999 22C12.6862 22 9.99995 19.3137 9.99995 16C9.99995 12.6863 12.6862 9.99999 15.9999 9.99999C19.3137 9.99999 21.9999 12.6863 21.9999 16Z" fill="#FEFFC8"/>
			</svg>
		</ng-container>
		<ng-container *ngSwitchCase="'light'">
			<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M15.2223 4.96205C15.6225 4.46692 16.3774 4.46691 16.7776 4.96205L18.3721 6.93449C18.6208 7.24213 19.0274 7.37426 19.4094 7.27154L21.8587 6.61299C22.4736 6.44768 23.0843 6.89139 23.117 7.52722L23.2476 10.0602C23.268 10.4552 23.5193 10.8011 23.8887 10.9426L26.2573 11.8495C26.8519 12.0771 27.0852 12.795 26.738 13.3287L25.3548 15.4546C25.139 15.7862 25.139 16.2138 25.3548 16.5454L26.738 18.6713C27.0852 19.2049 26.8519 19.9229 26.2573 20.1505L23.8887 21.0574C23.5193 21.1989 23.268 21.5448 23.2476 21.9398L23.117 24.4728C23.0843 25.1086 22.4736 25.5523 21.8587 25.387L19.4094 24.7284C19.0274 24.6257 18.6208 24.7579 18.3721 25.0655L16.7776 27.0379C16.3774 27.5331 15.6225 27.5331 15.2223 27.0379L13.6278 25.0655C13.3791 24.7579 12.9725 24.6257 12.5905 24.7284L10.1412 25.387C9.52633 25.5523 8.91562 25.1086 8.88284 24.4728L8.75229 21.9398C8.73192 21.5448 8.4806 21.1989 8.11118 21.0574L5.74256 20.1505C5.14798 19.9229 4.9147 19.2049 5.26192 18.6713L6.64512 16.5454C6.86085 16.2138 6.86085 15.7862 6.64512 15.4546L5.26192 13.3287C4.9147 12.795 5.14798 12.0771 5.74256 11.8495L8.11117 10.9426C8.4806 10.8011 8.73192 10.4552 8.75229 10.0602L8.88284 7.52722C8.91562 6.89139 9.52633 6.44768 10.1412 6.61299L12.5905 7.27154C12.9725 7.37426 13.3791 7.24213 13.6278 6.93449L15.2223 4.96205Z" fill="#CCC7BD"/>
				<path d="M21.9999 16C21.9999 19.3137 19.3137 22 15.9999 22C12.6862 22 9.99995 19.3137 9.99995 16C9.99995 12.6863 12.6862 9.99999 15.9999 9.99999C19.3137 9.99999 21.9999 12.6863 21.9999 16Z" fill="#FEF7EA"/>
			</svg>
		</ng-container>
		<ng-container *ngSwitchCase="'dark-active'">
			<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M24.556 16.541C25.2381 16.281 25.9923 16.7677 25.881 17.4891C25.1373 22.3102 20.9966 26 16 26C10.4772 26 6 21.4921 6 15.9313C6 10.9038 9.65953 6.84929 14.4428 6.1178C15.1642 6.00748 15.6496 6.76343 15.3875 7.44452C12.1603 15.8304 16.7168 19.5287 24.556 16.541Z" fill="#F1DC1C"/>
			</svg>
		</ng-container>
		<ng-container *ngSwitchCase="'dark'">
			<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M24.556 16.541C25.2381 16.281 25.9923 16.7677 25.881 17.4891C25.1373 22.3102 20.9966 26 16 26C10.4772 26 6 21.4921 6 15.9313C6 10.9038 9.65953 6.84929 14.4428 6.1178C15.1642 6.00748 15.6496 6.76343 15.3875 7.44452C12.1603 15.8304 16.7168 19.5287 24.556 16.541Z" fill="#CCC7BD"/>
			</svg>
		</ng-container>
		<ng-container *ngSwitchDefault>
			<svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="1" y="-1" width="32" height="32" rx="16" transform="matrix(-1 0 0 1 37 5)" fill="white"/>
				<path d="M5 20C5 18.0302 5.38799 16.0796 6.14181 14.2597C6.89563 12.4399 8.00052 10.7863 9.3934 9.3934L20 20H5Z" fill="#9D50A9"/>
				<path d="M9.3934 9.3934C12.2064 6.58035 16.0218 5 20 5V20L9.3934 9.3934Z" fill="#F46666"/>
				<path d="M20 5C23.9782 5 27.7936 6.58035 30.6066 9.3934L20 20V5Z" fill="#F49966"/>
				<path d="M30.6066 9.3934C33.4196 12.2064 35 16.0218 35 20L20 20L30.6066 9.3934Z" fill="#F2F466"/>
				<path d="M5 20C5 21.9698 5.38799 23.9204 6.14181 25.7403C6.89563 27.5601 8.00052 29.2137 9.3934 30.6066L20 20H5Z" fill="#507EA9"/>
				<path d="M9.3934 30.6066C12.2064 33.4196 16.0218 35 20 35V20L9.3934 30.6066Z" fill="#68AFAF"/>
				<path d="M20 35C23.9782 35 27.7936 33.4196 30.6066 30.6066L20 20V35Z" fill="#63AF74"/>
				<path d="M30.6066 30.6066C33.4196 27.7936 35 23.9782 35 20L20 20L30.6066 30.6066Z" fill="#97CB77"/>
				<rect x="1" y="-1" width="32" height="32" rx="16" transform="matrix(-1 0 0 1 37 5)" stroke="white" stroke-width="2"/>
				<circle r="6" transform="matrix(-1 0 0 1 20 20)" fill="#D3D3D3"/>
			</svg>
		</ng-container>
	</ng-container>
</ng-template>

<ng-template #cancelIconTemplate>
	<svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
		<rect x="22.364" y="8.2218" width="2" height="20" rx="1" transform="rotate(45 22.364 8.2218)" fill="#CCC7BD"/>
		<rect x="8.22192" y="9.63599" width="2" height="20" rx="1" transform="rotate(-45 8.22192 9.63599)" fill="#CCC7BD"/>
	</svg>
</ng-template>
